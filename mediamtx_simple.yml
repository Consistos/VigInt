# MediaMTX configuration for Vigint RTSP server with video file

# General settings
logLevel: info
logDestinations: [stdout]
logFile: mediamtx.log

# API settings
api: yes
apiAddress: 127.0.0.1:9999

# Metrics settings
metrics: yes
metricsAddress: 127.0.0.1:9996

# RTSP settings
rtspDisable: no
rtspAddress: :8554
rtspAuthMethods: []

# RTMP settings (optional)
rtmpDisable: yes

# HLS settings (optional)
hlsDisable: yes

# WebRTC settings (optional)
webrtcDisable: yes

# Default path settings
pathDefaults:
  # Authentication - disabled for testing
  readUser: ""
  readPass: ""
  publishUser: ""
  publishPass: ""
  
  # Recording
  record: no
  recordPath: ./recordings/%path/%Y-%m-%d_%H-%M-%S-%f.mp4
  recordFormat: fmp4
  recordPartDuration: 1h
  recordSegmentDuration: 1h
  recordDeleteAfter: 24h

# Specific paths
paths:
  # Default catch-all path
  ~^.*$:
    source: publisher
    publishUser: ""
    publishPass: ""
    
  # Our test video streams (will be fed by FFmpeg)
  test_video:
    source: publisher
    publishUser: ""
    publishPass: ""
    
  # Buffer video stream (will be fed by FFmpeg)
  buffer_video:
    source: publisher
    publishUser: ""
    publishPass: ""
    
  # Specific path for buffer_video_1
  buffer_video_1:
    source: publisher
    publishUser: ""
    publishPass: ""
